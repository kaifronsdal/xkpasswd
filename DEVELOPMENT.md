# Development Guide

## Project Structure

```
xkpasswd/
├── src/
│   ├── popup/
│   │   ├── popup.html      # Main popup interface
│   │   └── popup.js        # Popup logic and functionality
│   ├── background/         # Background scripts (future)
│   ├── content/           # Content scripts (future)
│   └── extension.js       # Entry point for webpack bundling
├── assets/
│   ├── icons/            # Extension icons
│   └── styles/           # CSS stylesheets
│       └── popup.css     # Popup styling
├── build/                # Build utilities (future)
├── dist/                 # Generated build output
├── manifest.json         # Extension manifest
├── package.json          # NPM configuration
└── webpack.config.js     # Build configuration
```

## Development Workflow

### Setup
```bash
npm install
```

### Development Mode
```bash
npm run dev          # Clean and start watching for changes
npm run watch        # Watch for changes (without cleaning)
```

### Building
```bash
npm run build:dev    # Development build with source maps
npm run build        # Production build (optimized)
```

### Cleaning
```bash
npm run clean        # Remove build artifacts
```

## Loading in Firefox

### Development (Temporary Add-on)
1. Build the extension: `npm run build:dev`
2. Open Firefox and navigate to `about:debugging`
3. Click "This Firefox" in the sidebar
4. Click "Load Temporary Add-on"
5. Select the `manifest.json` file from the project root

### Development Tips
- Use `npm run watch` during development for automatic rebuilds
- The extension will reload automatically when you update `manifest.json`
- For JavaScript changes, you'll need to reload the extension manually
- Check the browser console for any errors

## File Organization

### Source Files (`src/`)
- **popup/**: Contains the main extension UI
- **background/**: Reserved for background scripts
- **content/**: Reserved for content scripts
- **extension.js**: Webpack entry point that exports the XKPasswd library

### Assets (`assets/`)
- **icons/**: Extension icons in different sizes
- **styles/**: CSS files organized by component

### Build Output (`dist/`)
- Generated by webpack, contains bundled JavaScript
- Should not be committed to version control

## Adding New Features

1. Add new source files in appropriate `src/` subdirectories
2. Import/require in relevant files
3. Update webpack entry points if needed
4. Test with `npm run watch` during development
5. Build with `npm run build` for production

## Dependencies

- **XKPasswd Library**: Installed directly from GitHub repository
- **Webpack**: For bundling and browser compatibility
- **Bootstrap Icons**: CDN-hosted icons for UI elements

## Browser Compatibility

Currently targets Firefox with Manifest V2. To support Chrome:
1. Create `manifest-chrome.json` with Manifest V3 format
2. Update build scripts to handle different manifests
3. Test compatibility with Chrome extension APIs